<div class="earnings-wrapper">
  <section id="earnings-overview" class="mat-elevation-z4">
    <h2 class="section-title">Earnings Overview</h2>

    <!-- Toggle Controls -->
    <div class="toggle-controls">
      <mat-slide-toggle [(ngModel)]="showMetrics" (change)="updateChartData()"
        >Metrics</mat-slide-toggle
      >
      <mat-slide-toggle
        [(ngModel)]="showPerformance"
        (change)="updateChartData()"
        >Performance</mat-slide-toggle
      >
      <mat-slide-toggle
        [(ngModel)]="showTransactionsOverTime"
        (change)="updateChartData()"
        >Transactions Over Time</mat-slide-toggle
      >
      <mat-slide-toggle
        [(ngModel)]="showAvgTrxValue"
        (change)="updateChartData()"
        >Avg. Trx Value</mat-slide-toggle
      >
      <mat-slide-toggle [(ngModel)]="showDisputes" (change)="updateChartData()"
        >Disputes</mat-slide-toggle
      >
    </div>

    <!-- Highcharts Component -->
    <highcharts-chart
      [Highcharts]="Highcharts"
      [options]="chartOptions"
      style="width: 100%; height: 65vh; display: block"
      (seriesHide)="onSeriesHide($event)"
      (seriesShow)="onSeriesShow($event)"
    >
    </highcharts-chart>

    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle">
      <mat-slide-toggle (change)="toggleDarkMode()">Dark Mode</mat-slide-toggle>
    </div>

    <!-- Data Filters -->
    <div class="data-filters">
      <mat-form-field>
        <mat-label>Filter By</mat-label>
        <mat-select [(value)]="selectedFilter">
          <mat-option value="ride-share">Ride Share</mat-option>
          <mat-option value="food-delivery">Food Delivery</mat-option>
          <!-- ... add other filters accordingly -->
        </mat-select>
      </mat-form-field>
    </div>

    <!-- Error Handling Visualization (e.g., when data is missing or erroneous) -->
    <div class="error-message" *ngIf="dataError">
      <mat-icon>error_outline</mat-icon>
      <span
        >Oops! There seems to be an issue with the data. Please try again
        later.</span
      >
    </div>
  </section>
</div>
